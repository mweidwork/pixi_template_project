# ===========================
# Copier Template Configuration
# ===========================
_subdirectory: template
_preserve_symlinks: true
_min_copier_version: "9.3.1"

# ===========================
# Template Questions
# ===========================
project_package_name:
  type: str
  help: >
    Enter the name of your python project
  validator: >-
    {% set invalid = ['_', ' ', '.'] %}
    {% if invalid | select('in', project_package_name) | list %}
    The project name must not contain underscores (_), spaces, or dots (.).
    Use hyphens (-) instead.
    {% endif %}

project_package_name_snake_case:
  type: str
  default: "{{ project_package_name.replace('-', '_') }}"
  when: false

project_short_description:
  type: str
  help: >
    Provide a short description of your project.
    This will be used in README, setup files, and metadata.

github_user:
  type: str
  help: >
    Enter your GitHub username (case-sensitive as per GitHub).
  validator: >-
    {% if not github_user.strip() %}
    GitHub username cannot be empty.
    {% endif %}

author_name:
  type: str
  help: >
    Enter your full name (as you want it to appear in project metadata).
  validator: >-
    {% if not author_name.strip() %}
    Author name cannot be empty.
    {% endif %}

author_email:
  type: str
  help: >
    Enter your email address for project metadata and contact.
  validator: >-
    {% if "@" not in author_email or "." not in author_email.split("@")[-1] %}
    Invalid email address format. Example: johndoe@example.com
    {% endif %}

github_url:
  type: str
  help: >
    Enter the GitHub URL for this project.
    Example: https://github.com/{{ github_user }}/{{ project_package_name }}
  default: "https://github.com/{{ github_user }}/{{ project_package_name }}"
  validator: >-
    {% if not github_url.startswith('https://github.com/') %}
    The GitHub URL must start with 'https://github.com/'.
    {% elif github_url.endswith('.git') %}
    The GitHub URL should not end with '.git'.
    {% endif %}

minimal_python_version:
  type: str
  help: >
    Choose the minimal Python version supported by this project.
  choices:
    - 3.9
    - 3.10
    - 3.11
    - 3.12
    - 3.13
    - 3.14
  default: 3.9

# ===========================
# Post-generation Tasks
# ===========================
_tasks:
  # Initialize git
  - git init